@model IQueryable<Usuario>

@{
  ViewBag.Subtitle = "Listagem";
}



<h1 class="text-primary">Usuarios</h1>
<hr>
<a href="Cadastrar" class="btn btn-primary">Novo Usuaario</a>
@if(TempData.ContainsKey("Excluiu")){
    var excluiu = (bool)TempData["Excluiu"];
    if(excluiu){
      <partial name="_Mensagem-info" model="@("Usuario excluido com sucesso!!")"></partial>
    }else{
        <partial name="_Mensagem-erro" model="@("Nao foi possivel excluir este usuario")"></partial>
    } 
}
<table class = "table table-striped">
    <thead>
        <tr>
            <td>Nome</td>
            <td>Email</td>
            <td>Acoes</td>
        </tr>
        <tbody>
            @foreach (var u in Model)
            {
            <tr>
                <td>@u.Nome</td>
                <td>@u.Email</td>
                <td>
                    <a asp-action="Cadastrar" asp-route-id="@u.IdUsuario" class="btn btn-sm btn-secondary">Alterar</a>
                    <a asp-action="Excluir" asp-route-id="@u.IdUsuario" class="btn btn-sm btn-danger">Excluir</a>
                </td>
            </tr>
            }
        </thead>
        </tbody>
      
 </table>

 @section Scripts{
   <script src="/lib/bootstrap5/dist/js/bootstrap.js"></script>

 }

 @section LogoPagina{
    <img src="img/usuarios.png" height="24" class="d-inline-block aligne-text-bottom">
 }